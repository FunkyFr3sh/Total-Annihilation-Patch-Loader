#define WIN32_LEAN_AND_MEAN
#include <windows.h>
#include "patch.h"


void prota_apply_patches()
{
    // Use custom registry path
    // Replaces "Software\Cavedog Entertainment" with "Software\..."
    PATCH_SET((void*)0x0050DDFD, "ProTA\x00");
    PATCH_SET((void*)0x00509EB8, "ProTA\x00");

    // Change version string
    PATCH_SET((void*)0x005031B4, "4.5\x00");

    // Change version # in multiplayer battleroom (all players must match)
    // (0049E9BD)
    patch_setbyte((void*)0x0049E9C0, 4);
    patch_setbyte((void*)0x0049E9C9, 5);


    char* text_base = (char*)GetModuleHandleA(NULL) + 0x0C00; /* start=00000400 (mem=00401000) */

    patch_setbyte(text_base + 0x00000BDF, 0xF6);
    patch_setbyte(text_base + 0x00000BE0, 0xC4);
    patch_setbyte(text_base + 0x00000BE1, 0x08);
    patch_setbyte(text_base + 0x00000BE2, 0x74);
    patch_setbyte(text_base + 0x00000BE3, 0x23);
    patch_setbyte(text_base + 0x00000BE5, 0xC4);
    patch_setbyte(text_base + 0x00000BE6, 0x10);
    patch_setbyte(text_base + 0x00000BE7, 0x75);
    patch_setbyte(text_base + 0x00000BE8, 0x1E);
    patch_setbyte(text_base + 0x00000BE9, 0x8B);
    patch_setbyte(text_base + 0x00000BEA, 0x8E);
    patch_setbyte(text_base + 0x00000BEB, 0x04);
    patch_setbyte(text_base + 0x00000BEC, 0x01);
    patch_setbyte(text_base + 0x00000BED, 0x00);
    patch_setbyte(text_base + 0x00000BEE, 0x00);
    patch_setbyte(text_base + 0x00000BEF, 0x85);
    patch_setbyte(text_base + 0x00000BF0, 0xC9);
    patch_setbyte(text_base + 0x00000BF1, 0x75);
    patch_setbyte(text_base + 0x00000BF2, 0x14);
    patch_setbyte(text_base + 0x00000BF3, 0x8B);
    patch_setbyte(text_base + 0x00000BF4, 0x0D);
    patch_setbyte(text_base + 0x00000BF5, 0xE8);
    patch_setbyte(text_base + 0x00000BF6, 0x1D);
    patch_setbyte(text_base + 0x00000BF7, 0x51);
    patch_setbyte(text_base + 0x00000BF8, 0x00);
    patch_setbyte(text_base + 0x00000BF9, 0x8B);
    patch_setbyte(text_base + 0x00000BFA, 0x96);
    patch_setbyte(text_base + 0x00000BFB, 0xB0);
    patch_setbyte(text_base + 0x00000BFE, 0x00);
    patch_setbyte(text_base + 0x00000BFF, 0x3B);
    patch_setbyte(text_base + 0x00000C00, 0x91);
    patch_setbyte(text_base + 0x00000C01, 0x47);
    patch_setbyte(text_base + 0x00000C02, 0x8A);
    patch_setbyte(text_base + 0x00000C03, 0x03);
    patch_setbyte(text_base + 0x00000C04, 0x00);
    patch_setbyte(text_base + 0x00000C05, 0x76);
    patch_setbyte(text_base + 0x00000C06, 0x02);
    patch_setbyte(text_base + 0x00000C07, 0xEB);
    patch_setbyte(text_base + 0x00000C08, 0x64);
    patch_setbyte(text_base + 0x00000C09, 0x8B);
    patch_setbyte(text_base + 0x00000C0A, 0x96);
    patch_setbyte(text_base + 0x00000C0B, 0x92);
    patch_setbyte(text_base + 0x00000C0C, 0x00);
    patch_setbyte(text_base + 0x00000C0F, 0xA8);
    patch_setbyte(text_base + 0x00000C10, 0x0C);
    patch_setbyte(text_base + 0x00000C11, 0x76);
    patch_setbyte(text_base + 0x00000C12, 0x0B);
    patch_setbyte(text_base + 0x00000C13, 0xD9);
    patch_setbyte(text_base + 0x00000C14, 0x82);
    patch_setbyte(text_base + 0x00000C15, 0xDE);
    patch_setbyte(text_base + 0x00000C16, 0x01);
    patch_setbyte(text_base + 0x00000C17, 0x00);
    patch_setbyte(text_base + 0x00000C18, 0x00);
    patch_setbyte(text_base + 0x00000C19, 0xEB);
    patch_setbyte(text_base + 0x00000C1A, 0x09);
    patch_setbyte(text_base + 0x00000C1B, 0x90);
    patch_setbyte(text_base + 0x00000C1C, 0x90);
    patch_setbyte(text_base + 0x00000C1D, 0x90);
    patch_setbyte(text_base + 0x00000C1F, 0x82);
    patch_setbyte(text_base + 0x000029EE, 0x83);
    patch_setbyte(text_base + 0x000029EF, 0xFD);
    patch_setbyte(text_base + 0x000029F0, 0x01);
    patch_setbyte(text_base + 0x000029F1, 0x7F);
    patch_setbyte(text_base + 0x000029F2, 0x04);
    patch_setbyte(text_base + 0x000029F3, 0x6A);
    patch_setbyte(text_base + 0x000029F4, 0x00);
    patch_setbyte(text_base + 0x000029F5, 0xEB);
    patch_setbyte(text_base + 0x000029F6, 0x02);
    patch_setbyte(text_base + 0x00002BE0, 0x83);
    patch_setbyte(text_base + 0x00002BE1, 0xFD);
    patch_setbyte(text_base + 0x00002BE2, 0x01);
    patch_setbyte(text_base + 0x00002BE3, 0x7F);
    patch_setbyte(text_base + 0x00002BE4, 0x04);
    patch_setbyte(text_base + 0x00002BE5, 0x6A);
    patch_setbyte(text_base + 0x00002BE6, 0x00);
    patch_setbyte(text_base + 0x00002BE7, 0xEB);
    patch_setbyte(text_base + 0x00002BE8, 0x02);
    patch_setbyte(text_base + 0x00002D76, 0x02);
    patch_setbyte(text_base + 0x0000405F, 0xEB);
    patch_setbyte(text_base + 0x00004060, 0x2F);
    patch_setbyte(text_base + 0x00004061, 0x90);
    patch_setbyte(text_base + 0x00004062, 0x90);
    patch_setbyte(text_base + 0x00004063, 0x90);
    patch_setbyte(text_base + 0x00004064, 0x90);
    patch_setbyte(text_base + 0x00004065, 0xC6);
    patch_setbyte(text_base + 0x00004066, 0x47);
    patch_setbyte(text_base + 0x00004067, 0x05);
    patch_setbyte(text_base + 0x00004068, 0x04);
    patch_setbyte(text_base + 0x00004198, 0x65);
    patch_setbyte(text_base + 0x00004370, 0x98);
    patch_setbyte(text_base + 0x000063B4, 0xEB);
    patch_setbyte(text_base + 0x000063B5, 0x40);
    patch_setbyte(text_base + 0x00007570, 0x0A);
    patch_setbyte(text_base + 0x00007AFF, 0xF6);
    patch_setbyte(text_base + 0x00007B00, 0xC4);
    patch_setbyte(text_base + 0x00007B01, 0x40);
    patch_setbyte(text_base + 0x00007B02, 0x75);
    patch_setbyte(text_base + 0x00007B03, 0x12);
    patch_setbyte(text_base + 0x00007B04, 0x8B);
    patch_setbyte(text_base + 0x00007B05, 0x4E);
    patch_setbyte(text_base + 0x00007B06, 0x60);
    patch_setbyte(text_base + 0x00007B07, 0xC1);
    patch_setbyte(text_base + 0x00007B08, 0xE8);
    patch_setbyte(text_base + 0x00007B09, 0x0E);
    patch_setbyte(text_base + 0x00007B0A, 0xF6);
    patch_setbyte(text_base + 0x00007B0B, 0xC4);
    patch_setbyte(text_base + 0x00007B0C, 0x80);
    patch_setbyte(text_base + 0x00007B0D, 0x74);
    patch_setbyte(text_base + 0x00007B0E, 0x07);
    patch_setbyte(text_base + 0x00007B0F, 0xF6);
    patch_setbyte(text_base + 0x00007B10, 0xC4);
    patch_setbyte(text_base + 0x00007B11, 0x40);
    patch_setbyte(text_base + 0x00007B12, 0x74);
    patch_setbyte(text_base + 0x00007B13, 0x02);
    patch_setbyte(text_base + 0x00007B14, 0xE3);
    patch_setbyte(text_base + 0x00007B15, 0x08);
    patch_setbyte(text_base + 0x00007B16, 0xE9);
    patch_setbyte(text_base + 0x00007B17, 0xAE);
    patch_setbyte(text_base + 0x00007B18, 0x00);
    patch_setbyte(text_base + 0x00007B19, 0x00);
    patch_setbyte(text_base + 0x00007B1A, 0x00);
    patch_setbyte(text_base + 0x00007B1B, 0x90);
    patch_setbyte(text_base + 0x00007B1C, 0x90);
    patch_setbyte(text_base + 0x00007B1D, 0x90);
    patch_setbyte(text_base + 0x00007B24, 0x80);
    patch_setbyte(text_base + 0x00007B25, 0xB8);
    patch_setbyte(text_base + 0x00007B26, 0xC9);
    patch_setbyte(text_base + 0x00007B27, 0x01);
    patch_setbyte(text_base + 0x00007B2A, 0x42);
    patch_setbyte(text_base + 0x00007B2B, 0x7C);
    patch_setbyte(text_base + 0x00007B2C, 0x54);
    patch_setbyte(text_base + 0x00007B2D, 0x90);
    patch_setbyte(text_base + 0x00007E28, 0x12);
    patch_setbyte(text_base + 0x00007E2C, 0x66);
    patch_setbyte(text_base + 0x00007E2D, 0x25);
    patch_setbyte(text_base + 0x00007E2E, 0x20);
    patch_setbyte(text_base + 0x00007E2F, 0x80);
    patch_setbyte(text_base + 0x00007E30, 0x66);
    patch_setbyte(text_base + 0x00007E31, 0x3D);
    patch_setbyte(text_base + 0x00007E32, 0x20);
    patch_setbyte(text_base + 0x00007E33, 0x80);
    patch_setbyte(text_base + 0x00007E34, 0x0F);
    patch_setbyte(text_base + 0x00007E35, 0x85);
    patch_setbyte(text_base + 0x00007E36, 0x6C);
    patch_setbyte(text_base + 0x00007E37, 0x01);
    patch_setbyte(text_base + 0x00007E3A, 0x33);
    patch_setbyte(text_base + 0x00007E3B, 0xFF);
    patch_setbyte(text_base + 0x00007E3C, 0x33);
    patch_setbyte(text_base + 0x00007E3D, 0xDB);
    patch_setbyte(text_base + 0x00007E3E, 0x89);
    patch_setbyte(text_base + 0x00007E3F, 0x5C);
    patch_setbyte(text_base + 0x00007E40, 0x24);
    patch_setbyte(text_base + 0x00007E41, 0x14);
    patch_setbyte(text_base + 0x00007E42, 0xC7);
    patch_setbyte(text_base + 0x00007E43, 0x44);
    patch_setbyte(text_base + 0x00007E44, 0x24);
    patch_setbyte(text_base + 0x00007E45, 0x18);
    patch_setbyte(text_base + 0x00007E46, 0x03);
    patch_setbyte(text_base + 0x00007E47, 0x00);
    patch_setbyte(text_base + 0x00007E48, 0x00);
    patch_setbyte(text_base + 0x00007E49, 0x00);
    patch_setbyte(text_base + 0x00007E4A, 0x8B);
    patch_setbyte(text_base + 0x00007E4B, 0x75);
    patch_setbyte(text_base + 0x00007E4C, 0x39);
    patch_setbyte(text_base + 0x00007E4D, 0x8A);
    patch_setbyte(text_base + 0x00007E4E, 0x4C);
    patch_setbyte(text_base + 0x00007E4F, 0x33);
    patch_setbyte(text_base + 0x00007E50, 0x1F);
    patch_setbyte(text_base + 0x00007E51, 0x80);
    patch_setbyte(text_base + 0x00007E52, 0xE1);
    patch_setbyte(text_base + 0x00007E53, 0x12);
    patch_setbyte(text_base + 0x00007E54, 0x80);
    patch_setbyte(text_base + 0x00007E55, 0xF9);
    patch_setbyte(text_base + 0x00007E56, 0x12);
    patch_setbyte(text_base + 0x00007E57, 0x0F);
    patch_setbyte(text_base + 0x00007E58, 0x85);
    patch_setbyte(text_base + 0x00007E59, 0x32);
    patch_setbyte(text_base + 0x00007E5A, 0x01);
    patch_setbyte(text_base + 0x00007E5B, 0x00);
    patch_setbyte(text_base + 0x00007E5C, 0x00);
    patch_setbyte(text_base + 0x00007E5D, 0x8B);
    patch_setbyte(text_base + 0x00007E5E, 0x54);
    patch_setbyte(text_base + 0x00007E5F, 0x33);
    patch_setbyte(text_base + 0x00007E60, 0x10);
    patch_setbyte(text_base + 0x00007E61, 0x8B);
    patch_setbyte(text_base + 0x00007E62, 0x8A);
    patch_setbyte(text_base + 0x00007E63, 0x12);
    patch_setbyte(text_base + 0x00007E69, 0x01);
    patch_setbyte(text_base + 0x00007E6B, 0x85);
    patch_setbyte(text_base + 0x00007E70, 0xF6);
    patch_setbyte(text_base + 0x00007E71, 0x44);
    patch_setbyte(text_base + 0x00007E72, 0x24);
    patch_setbyte(text_base + 0x00007E73, 0x24);
    patch_setbyte(text_base + 0x00007E74, 0x01);
    patch_setbyte(text_base + 0x00007E75, 0x75);
    patch_setbyte(text_base + 0x00007E76, 0x0C);
    patch_setbyte(text_base + 0x00007E77, 0xC1);
    patch_setbyte(text_base + 0x00007E78, 0xE9);
    patch_setbyte(text_base + 0x00007E79, 0x03);
    patch_setbyte(text_base + 0x00007E7A, 0xF6);
    patch_setbyte(text_base + 0x00007E7B, 0xC5);
    patch_setbyte(text_base + 0x00007E7C, 0x80);
    patch_setbyte(text_base + 0x00007E7D, 0x0F);
    patch_setbyte(text_base + 0x00007E7E, 0x85);
    patch_setbyte(text_base + 0x00007E7F, 0x0C);
    patch_setbyte(text_base + 0x00007E80, 0x01);
    patch_setbyte(text_base + 0x00007E81, 0x00);
    patch_setbyte(text_base + 0x00007E82, 0x00);
    patch_setbyte(text_base + 0x00007E83, 0x57);
    patch_setbyte(text_base + 0x00007E84, 0x56);
    patch_setbyte(text_base + 0x00007E85, 0xE8);
    patch_setbyte(text_base + 0x00007E86, 0x06);
    patch_setbyte(text_base + 0x00007E87, 0x17);
    patch_setbyte(text_base + 0x00007E88, 0x08);
    patch_setbyte(text_base + 0x00007E89, 0x00);
    patch_setbyte(text_base + 0x00007E8A, 0x85);
    patch_setbyte(text_base + 0x00007E8B, 0xC0);
    patch_setbyte(text_base + 0x00007E8C, 0x0F);
    patch_setbyte(text_base + 0x00007E8D, 0x84);
    patch_setbyte(text_base + 0x00007E8E, 0x9F);
    patch_setbyte(text_base + 0x00007E8F, 0x00);
    patch_setbyte(text_base + 0x00007E90, 0x00);
    patch_setbyte(text_base + 0x00007E91, 0x00);
    patch_setbyte(text_base + 0x00007E92, 0x57);
    patch_setbyte(text_base + 0x00007E93, 0x50);
    patch_setbyte(text_base + 0x00007E94, 0x56);
    patch_setbyte(text_base + 0x00007E95, 0x8B);
    patch_setbyte(text_base + 0x00007E96, 0xF0);
    patch_setbyte(text_base + 0x00007E97, 0xE8);
    patch_setbyte(text_base + 0x00007E98, 0x14);
    patch_setbyte(text_base + 0x00007E99, 0x21);
    patch_setbyte(text_base + 0x00007E9A, 0x09);
    patch_setbyte(text_base + 0x00007E9C, 0x85);
    patch_setbyte(text_base + 0x00007E9D, 0xC0);
    patch_setbyte(text_base + 0x00007E9E, 0x8B);
    patch_setbyte(text_base + 0x00007E9F, 0xC6);
    patch_setbyte(text_base + 0x00007EA0, 0x8B);
    patch_setbyte(text_base + 0x00007EA1, 0x75);
    patch_setbyte(text_base + 0x00007EA2, 0x39);
    patch_setbyte(text_base + 0x00007EA3, 0x75);
    patch_setbyte(text_base + 0x00007EA4, 0x07);
    patch_setbyte(text_base + 0x00007EA5, 0x66);
    patch_setbyte(text_base + 0x00007EA6, 0xC7);
    patch_setbyte(text_base + 0x00007EA7, 0x44);
    patch_setbyte(text_base + 0x00007EA8, 0x33);
    patch_setbyte(text_base + 0x00007EA9, 0x04);
    patch_setbyte(text_base + 0x00007EAB, 0x00);
    patch_setbyte(text_base + 0x00007EAC, 0x8B);
    patch_setbyte(text_base + 0x00007EAD, 0x88);
    patch_setbyte(text_base + 0x00007EAE, 0x96);
    patch_setbyte(text_base + 0x00007EB1, 0x00);
    patch_setbyte(text_base + 0x00007EB2, 0x33);
    patch_setbyte(text_base + 0x00007EB3, 0xD2);
    patch_setbyte(text_base + 0x00007EB4, 0x8A);
    patch_setbyte(text_base + 0x00007EB5, 0x91);
    patch_setbyte(text_base + 0x00007EB6, 0x46);
    patch_setbyte(text_base + 0x00007EB7, 0x01);
    patch_setbyte(text_base + 0x00007EB9, 0x00);
    patch_setbyte(text_base + 0x00007EBA, 0x8B);
    patch_setbyte(text_base + 0x00007EBB, 0x4D);
    patch_setbyte(text_base + 0x00007EBC, 0x00);
    patch_setbyte(text_base + 0x00007EBD, 0x80);
    patch_setbyte(text_base + 0x00007EBE, 0xBC);
    patch_setbyte(text_base + 0x00007EBF, 0x0A);
    patch_setbyte(text_base + 0x00007EC0, 0x08);
    patch_setbyte(text_base + 0x00007EC1, 0x01);
    patch_setbyte(text_base + 0x00007EC4, 0x00);
    patch_setbyte(text_base + 0x00007EC5, 0x75);
    patch_setbyte(text_base + 0x00007EC6, 0x5E);
    patch_setbyte(text_base + 0x00007EC7, 0x66);
    patch_setbyte(text_base + 0x00007EC8, 0x8B);
    patch_setbyte(text_base + 0x00007EC9, 0x88);
    patch_setbyte(text_base + 0x00007ECA, 0xA6);
    patch_setbyte(text_base + 0x00007ECD, 0x00);
    patch_setbyte(text_base + 0x00007ECE, 0x8B);
    patch_setbyte(text_base + 0x00007ECF, 0xD6);
    patch_setbyte(text_base + 0x00007FA2, 0xA4);
    patch_setbyte(text_base + 0x0000DED6, 0x9C); // tdraw overwrites this change
    patch_setbyte(text_base + 0x0000DED7, 0x36); // tdraw overwrites this change
    patch_setbyte(text_base + 0x0000DED8, 0x01); // tdraw overwrites this change
    patch_setbyte(text_base + 0x00013EBD, 0x0A);
    patch_setbyte(text_base + 0x00013EBE, 0x49);
    patch_setbyte(text_base + 0x00013EBF, 0x74);
    patch_setbyte(text_base + 0x00013EC0, 0x24);
    patch_setbyte(text_base + 0x00013EC1, 0xB8);
    patch_setbyte(text_base + 0x00013EC2, 0x07);
    patch_setbyte(text_base + 0x00013EC3, 0x00);
    patch_setbyte(text_base + 0x00013EC4, 0x00);
    patch_setbyte(text_base + 0x00013EC5, 0x00);
    patch_setbyte(text_base + 0x00013EC6, 0xEB);
    patch_setbyte(text_base + 0x00013EC7, 0x27);
    patch_setbyte(text_base + 0x00013EC8, 0xF6);
    patch_setbyte(text_base + 0x00013EC9, 0xC2);
    patch_setbyte(text_base + 0x00013ECA, 0x40);
    patch_setbyte(text_base + 0x00013ECB, 0x75);
    patch_setbyte(text_base + 0x00013ECC, 0x1D);
    patch_setbyte(text_base + 0x00013ECD, 0x8B);
    patch_setbyte(text_base + 0x00013ECE, 0x5C);
    patch_setbyte(text_base + 0x00013ECF, 0x24);
    patch_setbyte(text_base + 0x00013ED0, 0x40);
    patch_setbyte(text_base + 0x00013ED1, 0xC6);
    patch_setbyte(text_base + 0x00013ED2, 0x46);
    patch_setbyte(text_base + 0x00013ED3, 0x05);
    patch_setbyte(text_base + 0x00013ED4, 0x03);
    patch_setbyte(text_base + 0x00013ED5, 0x6A);
    patch_setbyte(text_base + 0x00013ED7, 0x6A);
    patch_setbyte(text_base + 0x00013ED8, 0x0B);
    patch_setbyte(text_base + 0x00013ED9, 0x53);
    patch_setbyte(text_base + 0x00013EDA, 0xE8);
    patch_setbyte(text_base + 0x00013EDB, 0xA1);
    patch_setbyte(text_base + 0x00013EDC, 0xAC);
    patch_setbyte(text_base + 0x00013EDD, 0x06);
    patch_setbyte(text_base + 0x00013EDE, 0x00);
    patch_setbyte(text_base + 0x00013EDF, 0xEB);
    patch_setbyte(text_base + 0x00013EE0, 0x18);
    patch_setbyte(text_base + 0x00013EE1, 0x90);
    patch_setbyte(text_base + 0x00013EE2, 0x90);
    patch_setbyte(text_base + 0x00013EE3, 0x90);
    patch_setbyte(text_base + 0x00013EE4, 0x90);
    patch_setbyte(text_base + 0x00013EE5, 0xF6);
    patch_setbyte(text_base + 0x00013EE6, 0xC2);
    patch_setbyte(text_base + 0x00013EE8, 0x74);
    patch_setbyte(text_base + 0x00013EE9, 0x0F);
    patch_setbyte(text_base + 0x00013EEA, 0xB8);
    patch_setbyte(text_base + 0x00013EEB, 0x09);
    patch_setbyte(text_base + 0x00013EED, 0x00);
    patch_setbyte(text_base + 0x00013EEE, 0x00);
    patch_setbyte(text_base + 0x00013EEF, 0x5F);
    patch_setbyte(text_base + 0x00013EF0, 0x5E);
    patch_setbyte(text_base + 0x00013EF1, 0x5D);
    patch_setbyte(text_base + 0x00013EF2, 0x5B);
    patch_setbyte(text_base + 0x00013EF3, 0x83);
    patch_setbyte(text_base + 0x00013EF4, 0xC4);
    patch_setbyte(text_base + 0x00013EF5, 0x2C);
    patch_setbyte(text_base + 0x00013EF6, 0xC2);
    patch_setbyte(text_base + 0x00013EF7, 0x0C);
    patch_setbyte(text_base + 0x00013EF8, 0x00);
    patch_setbyte(text_base + 0x00013EFA, 0x46);
    patch_setbyte(text_base + 0x00013EFB, 0x06);
    patch_setbyte(text_base + 0x00013EFD, 0x5C);
    patch_setbyte(text_base + 0x00013EFE, 0x24);
    patch_setbyte(text_base + 0x00013EFF, 0x40);
    patch_setbyte(text_base + 0x00013F00, 0x0D);
    patch_setbyte(text_base + 0x00013F01, 0x08);
    patch_setbyte(text_base + 0x00013F03, 0x01);
    patch_setbyte(text_base + 0x00013F05, 0x89);
    patch_setbyte(text_base + 0x00013F06, 0x46);
    patch_setbyte(text_base + 0x00013F07, 0x06);
    patch_setbyte(text_base + 0x00013F08, 0x8B);
    patch_setbyte(text_base + 0x00013F09, 0x56);
    patch_setbyte(text_base + 0x00013F0A, 0x16);
    patch_setbyte(text_base + 0x00013F0B, 0x8B);
    patch_setbyte(text_base + 0x00013F0C, 0x43);
    patch_setbyte(text_base + 0x00013F0D, 0x6A);
    patch_setbyte(text_base + 0x00013F0E, 0x8B);
    patch_setbyte(text_base + 0x00013F0F, 0x4B);
    patch_setbyte(text_base + 0x00013F10, 0x72);
    patch_setbyte(text_base + 0x00013F11, 0x8B);
    patch_setbyte(text_base + 0x00013F12, 0x7A);
    patch_setbyte(text_base + 0x00013F13, 0x6A);
    patch_setbyte(text_base + 0x00013F14, 0x8B);
    patch_setbyte(text_base + 0x00013F15, 0x6A);
    patch_setbyte(text_base + 0x00013F16, 0x72);
    patch_setbyte(text_base + 0x00013F17, 0x8B);
    patch_setbyte(text_base + 0x00013F18, 0x93);
    patch_setbyte(text_base + 0x00013F19, 0x92);
    patch_setbyte(text_base + 0x00013F1A, 0x00);
    patch_setbyte(text_base + 0x00013F1B, 0x00);
    patch_setbyte(text_base + 0x00013F1C, 0x00);
    patch_setbyte(text_base + 0x00013F1D, 0x2B);
    patch_setbyte(text_base + 0x00013F1E, 0xC7);
    patch_setbyte(text_base + 0x00013F1F, 0x33);
    patch_setbyte(text_base + 0x00013F20, 0xFF);
    patch_setbyte(text_base + 0x00013F21, 0x2B);
    patch_setbyte(text_base + 0x00013F22, 0xCD);
    patch_setbyte(text_base + 0x00013F23, 0x66);
    patch_setbyte(text_base + 0x00013F24, 0x8B);
    patch_setbyte(text_base + 0x00013F25, 0xBA);
    patch_setbyte(text_base + 0x00013F26, 0x12);
    patch_setbyte(text_base + 0x00013F27, 0x02);
    patch_setbyte(text_base + 0x00013F28, 0x00);
    patch_setbyte(text_base + 0x00013F29, 0x00);
    patch_setbyte(text_base + 0x00013F2A, 0x99);
    patch_setbyte(text_base + 0x00013F2B, 0x8B);
    patch_setbyte(text_base + 0x00013F2D, 0x8B);
    patch_setbyte(text_base + 0x00013F2E, 0xC1);
    patch_setbyte(text_base + 0x00013F2F, 0x89);
    patch_setbyte(text_base + 0x00013F30, 0x54);
    patch_setbyte(text_base + 0x00013F31, 0x24);
    patch_setbyte(text_base + 0x00013F32, 0x1C);
    patch_setbyte(text_base + 0x00013F33, 0x99);
    patch_setbyte(text_base + 0x00013F34, 0x89);
    patch_setbyte(text_base + 0x00013F35, 0x44);
    patch_setbyte(text_base + 0x00013F36, 0x24);
    patch_setbyte(text_base + 0x00013F37, 0x10);
    patch_setbyte(text_base + 0x00013F38, 0x8B);
    patch_setbyte(text_base + 0x00013F39, 0x44);
    patch_setbyte(text_base + 0x00013F3A, 0x24);
    patch_setbyte(text_base + 0x00013F3B, 0x1C);
    patch_setbyte(text_base + 0x00013F3C, 0x50);
    patch_setbyte(text_base + 0x00013F3D, 0x55);
    patch_setbyte(text_base + 0x00013F3E, 0x50);
    patch_setbyte(text_base + 0x00013F3F, 0x55);
    patch_setbyte(text_base + 0x00013F40, 0x89);
    patch_setbyte(text_base + 0x00013F41, 0x54);
    patch_setbyte(text_base + 0x00013F42, 0x24);
    patch_setbyte(text_base + 0x00013F44, 0xE8);
    patch_setbyte(text_base + 0x00013F45, 0xB7);
    patch_setbyte(text_base + 0x00013F46, 0xF8);
    patch_setbyte(text_base + 0x00013F47, 0x0C);
    patch_setbyte(text_base + 0x00013F48, 0x00);
    patch_setbyte(text_base + 0x00013F49, 0xB9);
    patch_setbyte(text_base + 0x00013F4A, 0x20);
    patch_setbyte(text_base + 0x00013F4B, 0x00);
    patch_setbyte(text_base + 0x00013F4C, 0x00);
    patch_setbyte(text_base + 0x00013F4E, 0xE8);
    patch_setbyte(text_base + 0x00013F4F, 0x7D);
    patch_setbyte(text_base + 0x00013F50, 0xF8);
    patch_setbyte(text_base + 0x00013F51, 0x0C);
    patch_setbyte(text_base + 0x00013F53, 0x8B);
    patch_setbyte(text_base + 0x00013F54, 0x4C);
    patch_setbyte(text_base + 0x00013F55, 0x24);
    patch_setbyte(text_base + 0x00013F56, 0x14);
    patch_setbyte(text_base + 0x00013F57, 0x8B);
    patch_setbyte(text_base + 0x00013F58, 0xE8);
    patch_setbyte(text_base + 0x00013F59, 0x8B);
    patch_setbyte(text_base + 0x00013F5A, 0x44);
    patch_setbyte(text_base + 0x00013F5B, 0x24);
    patch_setbyte(text_base + 0x00013F5C, 0x10);
    patch_setbyte(text_base + 0x00013F5D, 0x51);
    patch_setbyte(text_base + 0x00013F5E, 0x50);
    patch_setbyte(text_base + 0x00013F5F, 0x51);
    patch_setbyte(text_base + 0x00013F60, 0x50);
    patch_setbyte(text_base + 0x00013F61, 0xE8);
    patch_setbyte(text_base + 0x00013F62, 0x9A);
    patch_setbyte(text_base + 0x00013F63, 0xF8);
    patch_setbyte(text_base + 0x00013F64, 0x0C);
    patch_setbyte(text_base + 0x00013F66, 0xB9);
    patch_setbyte(text_base + 0x00013F67, 0x20);
    patch_setbyte(text_base + 0x00013F68, 0x00);
    patch_setbyte(text_base + 0x00013F69, 0x00);
    patch_setbyte(text_base + 0x00013F6A, 0x00);
    patch_setbyte(text_base + 0x00013F6B, 0xE8);
    patch_setbyte(text_base + 0x00013F6C, 0x60);
    patch_setbyte(text_base + 0x00013F6D, 0xF8);
    patch_setbyte(text_base + 0x00013F6E, 0x0C);
    patch_setbyte(text_base + 0x00013F6F, 0x00);
    patch_setbyte(text_base + 0x00013F70, 0x03);
    patch_setbyte(text_base + 0x00013F71, 0xE8);
    patch_setbyte(text_base + 0x00013F72, 0x8B);
    patch_setbyte(text_base + 0x00013F73, 0xC7);
    patch_setbyte(text_base + 0x00013F75, 0xAF);
    patch_setbyte(text_base + 0x00013F76, 0xC7);
    patch_setbyte(text_base + 0x00013F77, 0x3B);
    patch_setbyte(text_base + 0x00013F78, 0xE8);
    patch_setbyte(text_base + 0x00013F79, 0x0F);
    patch_setbyte(text_base + 0x00013F7A, 0x8F);
    patch_setbyte(text_base + 0x00013F7B, 0xEA);
    patch_setbyte(text_base + 0x00013F7C, 0x00);
    patch_setbyte(text_base + 0x00013F7D, 0x00);
    patch_setbyte(text_base + 0x00013F7E, 0x00);
    patch_setbyte(text_base + 0x00013F7F, 0x8B);
    patch_setbyte(text_base + 0x00013F80, 0x46);
    patch_setbyte(text_base + 0x00013F81, 0x16);
    patch_setbyte(text_base + 0x00013F82, 0x8B);
    patch_setbyte(text_base + 0x00013F83, 0xCB);
    patch_setbyte(text_base + 0x00013F84, 0x50);
    patch_setbyte(text_base + 0x00013F85, 0xE8);
    patch_setbyte(text_base + 0x00013F86, 0xD6);
    patch_setbyte(text_base + 0x00013F87, 0x4D);
    patch_setbyte(text_base + 0x00013F88, 0x07);
    patch_setbyte(text_base + 0x00013F89, 0x00);
    patch_setbyte(text_base + 0x00013F8A, 0x85);
    patch_setbyte(text_base + 0x00013F8B, 0xC0);
    patch_setbyte(text_base + 0x00013F8C, 0x0F);
    patch_setbyte(text_base + 0x00013F8D, 0x84);
    patch_setbyte(text_base + 0x00013F8E, 0xD7);
    patch_setbyte(text_base + 0x00013F8F, 0x00);
    patch_setbyte(text_base + 0x00013F90, 0x00);
    patch_setbyte(text_base + 0x00013F92, 0x83);
    patch_setbyte(text_base + 0x00013F93, 0x7E);
    patch_setbyte(text_base + 0x00013F95, 0x0F);
    patch_setbyte(text_base + 0x00013F96, 0x7C);
    patch_setbyte(text_base + 0x00013F97, 0x19);
    patch_setbyte(text_base + 0x00013F98, 0x8B);
    patch_setbyte(text_base + 0x00013F99, 0x4E);
    patch_setbyte(text_base + 0x00013F9A, 0x36);
    patch_setbyte(text_base + 0x00013F9B, 0x8B);
    patch_setbyte(text_base + 0x00013F9C, 0x56);
    patch_setbyte(text_base + 0x00013F9D, 0x16);
    patch_setbyte(text_base + 0x00013F9E, 0x6A);
    patch_setbyte(text_base + 0x00013F9F, 0x00);
    patch_setbyte(text_base + 0x00013FA0, 0x6A);
    patch_setbyte(text_base + 0x00013FA1, 0x05);
    patch_setbyte(text_base + 0x00013FA2, 0x51);
    patch_setbyte(text_base + 0x00013FA3, 0x52);
    patch_setbyte(text_base + 0x00013FA4, 0x53);
    patch_setbyte(text_base + 0x00013FA5, 0xE8);
    patch_setbyte(text_base + 0x00013FA6, 0x06);
    patch_setbyte(text_base + 0x00013FA7, 0x50);
    patch_setbyte(text_base + 0x00013FA8, 0x07);
    patch_setbyte(text_base + 0x00013FA9, 0x00);
    patch_setbyte(text_base + 0x00013FAA, 0xC7);
    patch_setbyte(text_base + 0x00013FAB, 0x46);
    patch_setbyte(text_base + 0x00013FAC, 0x3A);
    patch_setbyte(text_base + 0x00013FAD, 0x00);
    patch_setbyte(text_base + 0x00013FAE, 0x00);
    patch_setbyte(text_base + 0x00013FAF, 0x00);
    patch_setbyte(text_base + 0x00013FB0, 0x00);
    patch_setbyte(text_base + 0x00013FB2, 0x4E);
    patch_setbyte(text_base + 0x00013FB3, 0x0E);
    patch_setbyte(text_base + 0x00013FB4, 0x8D);
    patch_setbyte(text_base + 0x00013FB5, 0x44);
    patch_setbyte(text_base + 0x00013FB6, 0x24);
    patch_setbyte(text_base + 0x00013FB7, 0x18);
    patch_setbyte(text_base + 0x00013FB8, 0x50);
    patch_setbyte(text_base + 0x00013FB9, 0x51);
    patch_setbyte(text_base + 0x00013FBA, 0xE8);
    patch_setbyte(text_base + 0x00013FBB, 0x41);
    patch_setbyte(text_base + 0x00013FBC, 0x98);
    patch_setbyte(text_base + 0x00013FBD, 0x02);
    patch_setbyte(text_base + 0x00013FBE, 0x00);
    patch_setbyte(text_base + 0x00013FBF, 0x8B);
    patch_setbyte(text_base + 0x00013FC0, 0x46);
    patch_setbyte(text_base + 0x00013FC1, 0x16);
    patch_setbyte(text_base + 0x00013FC2, 0x6A);
    patch_setbyte(text_base + 0x00013FC3, 0x06);
    patch_setbyte(text_base + 0x00013FC4, 0x8D);
    patch_setbyte(text_base + 0x00013FC5, 0x48);
    patch_setbyte(text_base + 0x00013FC6, 0x6A);
    patch_setbyte(text_base + 0x00013FC7, 0x8B);
    patch_setbyte(text_base + 0x00013FC8, 0xD9);
    patch_setbyte(text_base + 0x00013FC9, 0x8B);
    patch_setbyte(text_base + 0x00013FCA, 0x13);
    patch_setbyte(text_base + 0x00013FCB, 0x89);
    patch_setbyte(text_base + 0x00013FCC, 0x54);
    patch_setbyte(text_base + 0x00013FCD, 0x24);
    patch_setbyte(text_base + 0x00013FCE, 0x34);
    patch_setbyte(text_base + 0x00013FCF, 0x8B);
    patch_setbyte(text_base + 0x00013FD0, 0x7B);
    patch_setbyte(text_base + 0x00013FD1, 0x04);
    patch_setbyte(text_base + 0x00013FD2, 0x89);
    patch_setbyte(text_base + 0x00013FD3, 0x7C);
    patch_setbyte(text_base + 0x00013FD4, 0x24);
    patch_setbyte(text_base + 0x00013FD5, 0x38);
    patch_setbyte(text_base + 0x00013FD6, 0x8B);
    patch_setbyte(text_base + 0x00013FD7, 0x5B);
    patch_setbyte(text_base + 0x00013FD8, 0x08);
    patch_setbyte(text_base + 0x00013FDA, 0x5C);
    patch_setbyte(text_base + 0x00013FDC, 0x3C);
    patch_setbyte(text_base + 0x00013FDE, 0x29);
    patch_setbyte(text_base + 0x00013FDF, 0x89);
    patch_setbyte(text_base + 0x00013FE0, 0x6C);
    patch_setbyte(text_base + 0x00013FE1, 0x24);
    patch_setbyte(text_base + 0x00013FE2, 0x28);
    patch_setbyte(text_base + 0x00013FE4, 0x69);
    patch_setbyte(text_base + 0x00013FE5, 0x04);
    patch_setbyte(text_base + 0x00013FE6, 0x89);
    patch_setbyte(text_base + 0x00013FE7, 0x6C);
    patch_setbyte(text_base + 0x00013FE8, 0x24);
    patch_setbyte(text_base + 0x00013FE9, 0x2C);
    patch_setbyte(text_base + 0x00013FEA, 0x8B);
    patch_setbyte(text_base + 0x00013FEB, 0x49);
    patch_setbyte(text_base + 0x00013FEC, 0x08);
    patch_setbyte(text_base + 0x00013FED, 0x8B);
    patch_setbyte(text_base + 0x00013FEE, 0x6C);
    patch_setbyte(text_base + 0x00013FEF, 0x24);
    patch_setbyte(text_base + 0x00013FF0, 0x28);
    patch_setbyte(text_base + 0x00013FF1, 0x89);
    patch_setbyte(text_base + 0x00013FF2, 0x4C);
    patch_setbyte(text_base + 0x00013FF3, 0x24);
    patch_setbyte(text_base + 0x00013FF4, 0x30);
    patch_setbyte(text_base + 0x00013FF6, 0x80);
    patch_setbyte(text_base + 0x00013FF7, 0x92);
    patch_setbyte(text_base + 0x00013FF8, 0x00);
    patch_setbyte(text_base + 0x00013FF9, 0x00);
    patch_setbyte(text_base + 0x00013FFA, 0x00);
    patch_setbyte(text_base + 0x00013FFB, 0x8B);
    patch_setbyte(text_base + 0x00013FFC, 0x88);
    patch_setbyte(text_base + 0x00013FFD, 0x5E);
    patch_setbyte(text_base + 0x00013FFE, 0x01);
    patch_setbyte(text_base + 0x00013FFF, 0x00);
    patch_setbyte(text_base + 0x00014000, 0x00);
    patch_setbyte(text_base + 0x00014001, 0x03);
    patch_setbyte(text_base + 0x00014002, 0xE9);
    patch_setbyte(text_base + 0x00014003, 0x89);
    patch_setbyte(text_base + 0x00014004, 0x6C);
    patch_setbyte(text_base + 0x00014005, 0x24);
    patch_setbyte(text_base + 0x00014006, 0x28);
    patch_setbyte(text_base + 0x00014007, 0x8B);
    patch_setbyte(text_base + 0x00014008, 0x6C);
    patch_setbyte(text_base + 0x00014009, 0x24);
    patch_setbyte(text_base + 0x0001400A, 0x30);
    patch_setbyte(text_base + 0x0001400B, 0x8B);
    patch_setbyte(text_base + 0x0001400C, 0x88);
    patch_setbyte(text_base + 0x0001400D, 0x66);
    patch_setbyte(text_base + 0x00014011, 0x03);
    patch_setbyte(text_base + 0x00014012, 0xE9);
    patch_setbyte(text_base + 0x00014013, 0x89);
    patch_setbyte(text_base + 0x00014014, 0x6C);
    patch_setbyte(text_base + 0x00014015, 0x24);
    patch_setbyte(text_base + 0x00014016, 0x30);
    patch_setbyte(text_base + 0x00014017, 0x03);
    patch_setbyte(text_base + 0x00014018, 0x90);
    patch_setbyte(text_base + 0x00014019, 0x6A);
    patch_setbyte(text_base + 0x0001401A, 0x01);
    patch_setbyte(text_base + 0x0001401B, 0x00);
    patch_setbyte(text_base + 0x0001401C, 0x00);
    patch_setbyte(text_base + 0x0001401D, 0x89);
    patch_setbyte(text_base + 0x0001401E, 0x54);
    patch_setbyte(text_base + 0x0001401F, 0x24);
    patch_setbyte(text_base + 0x00014020, 0x34);
    patch_setbyte(text_base + 0x00014021, 0x8B);
    patch_setbyte(text_base + 0x00014022, 0xA8);
    patch_setbyte(text_base + 0x00014023, 0x72);
    patch_setbyte(text_base + 0x00014024, 0x01);
    patch_setbyte(text_base + 0x00014025, 0x00);
    patch_setbyte(text_base + 0x00014026, 0x00);
    patch_setbyte(text_base + 0x00014027, 0x8D);
    patch_setbyte(text_base + 0x00014028, 0x54);
    patch_setbyte(text_base + 0x0001402A, 0x28);
    patch_setbyte(text_base + 0x0001402B, 0x03);
    patch_setbyte(text_base + 0x0001402C, 0xDD);
    patch_setbyte(text_base + 0x0001402D, 0x89);
    patch_setbyte(text_base + 0x0001402E, 0x5C);
    patch_setbyte(text_base + 0x0001402F, 0x24);
    patch_setbyte(text_base + 0x00014030, 0x3C);
    patch_setbyte(text_base + 0x00014112, 0x81);
    patch_setbyte(text_base + 0x00014113, 0xCF);
    patch_setbyte(text_base + 0x00014114, 0xE8);
    patch_setbyte(text_base + 0x00014115, 0x00);
    patch_setbyte(text_base + 0x00014116, 0x01);
    patch_setbyte(text_base + 0x00014118, 0x89);
    patch_setbyte(text_base + 0x00014119, 0x7E);
    patch_setbyte(text_base + 0x0001411A, 0x06);
    patch_setbyte(text_base + 0x0001411B, 0xB8);
    patch_setbyte(text_base + 0x0001411C, 0x01);
    patch_setbyte(text_base + 0x0001411D, 0x00);
    patch_setbyte(text_base + 0x0001411E, 0x00);
    patch_setbyte(text_base + 0x0001411F, 0x00);
    patch_setbyte(text_base + 0x00014120, 0x5F);
    patch_setbyte(text_base + 0x00014121, 0x5E);
    patch_setbyte(text_base + 0x00014122, 0x5D);
    patch_setbyte(text_base + 0x00014123, 0x5B);
    patch_setbyte(text_base + 0x00014124, 0x83);
    patch_setbyte(text_base + 0x00014125, 0xC4);
    patch_setbyte(text_base + 0x00014126, 0x2C);
    patch_setbyte(text_base + 0x00014127, 0xC2);
    patch_setbyte(text_base + 0x00014128, 0x0C);
    patch_setbyte(text_base + 0x0001412A, 0x90);
    patch_setbyte(text_base + 0x0001412B, 0x90);
    patch_setbyte(text_base + 0x0001412C, 0x90);
    patch_setbyte(text_base + 0x0001412D, 0x90);
    patch_setbyte(text_base + 0x0001412E, 0x90);
    patch_setbyte(text_base + 0x0001412F, 0x90);
    patch_setbyte(text_base + 0x00014130, 0x90);
    patch_setbyte(text_base + 0x00014131, 0x90);
    patch_setbyte(text_base + 0x00014132, 0x90);
    patch_setbyte(text_base + 0x00014133, 0x90);
    patch_setbyte(text_base + 0x0001D14B, 0x15);
    patch_setbyte(text_base + 0x0001D152, 0x75);
    patch_setbyte(text_base + 0x0001D153, 0x0D);
    patch_setbyte(text_base + 0x0001D154, 0xE9);
    patch_setbyte(text_base + 0x0001D155, 0x63);
    patch_setbyte(text_base + 0x0001D156, 0x01);
    patch_setbyte(text_base + 0x0001D158, 0x00);
    patch_setbyte(text_base + 0x0001D159, 0x90);
    patch_setbyte(text_base + 0x0001D15A, 0x90);
    patch_setbyte(text_base + 0x0001D15B, 0x90);
    patch_setbyte(text_base + 0x0001D15C, 0x90);
    patch_setbyte(text_base + 0x0001D15D, 0x90);
    patch_setbyte(text_base + 0x0001D15E, 0x90);
    patch_setbyte(text_base + 0x0001D15F, 0x90);
    patch_setbyte(text_base + 0x0001D160, 0x90);
    patch_setbyte(text_base + 0x00025AA5, 0xB0);
    patch_setbyte(text_base + 0x00025AA6, 0x01);
    patch_setbyte(text_base + 0x0003DB86, 0x00);
    patch_setbyte(text_base + 0x0003DB87, 0x00);
    patch_setbyte(text_base + 0x0003EA13, 0x04);
    patch_setbyte(text_base + 0x0003EA14, 0x00);
    patch_setbyte(text_base + 0x0004624D, 0xFF);
    patch_setbyte(text_base + 0x00095AE7, 0x27);
    patch_setbyte(text_base + 0x00095B76, 0x24);
    patch_setbyte(text_base + 0x00095B79, 0x0D);


    char* rdata_base = (char*)GetModuleHandleA(NULL) + 0x1200; /* start=000FAE00 (mem=004FC000) */

    patch_setbyte(rdata_base + 0x000FB780, 0xD0);
    patch_setbyte(rdata_base + 0x000FB781, 0x86);
    patch_setbyte(rdata_base + 0x000FBA7F, 0xD4);


    char* data_base = (char*)GetModuleHandleA(NULL) + 0x1A00; /* start=000FF600 (mem=00501000) */

    patch_setbyte(data_base + 0x001005D8, 0x02);
    patch_setbyte(data_base + 0x001005E4, 0x02);
    patch_setbyte(data_base + 0x00100ECC, 0x50);
    patch_setbyte(data_base + 0x00100ECD, 0x72);
    patch_setbyte(data_base + 0x00100ECE, 0x6F);
    patch_setbyte(data_base + 0x00100ECF, 0x54);
    patch_setbyte(data_base + 0x00100ED0, 0x41);
    patch_setbyte(data_base + 0x00101D38, 0x73);
    patch_setbyte(data_base + 0x00101D39, 0x50);
}
